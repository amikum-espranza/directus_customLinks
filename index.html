<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Savings Platform</title>

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
  </head>

  <body class="bg-light">
    <div class="container d-flex justify-content-center">
      <h1>DIRECTUS API TESTING</h1>
    </div>
    <div class="container-fluid d-flex">
      <div class="card">
        <div class="card-body">
          id:user@espranza.in <br />
          password:user123
        </div>
      </div>
      <div class="card ml-1">
        <div class="card-body">
          <strong>BASE_URL</strong><br />
          http://192.168.1.247:8080/MonneySavingPlatform/
        </div>
      </div>
      <div class="card ml-1">
        <div class="card-body">
          <a
            href="https://v8.docs.directus.io/api/query/filter.html"
            target="_blank"
            >Documentation Filter</a
          >
        </div>
      </div>
      <div class="card ml-1">
        <div class="card-body">
          <strong>Axios Get Request</strong><br />
          BaseURL.get('items/avatar?fields=avatar_pic.*') .then((response) => {
          setAvatarList(response.data.data); }).catch((e) => console.log(e));
        </div>
      </div>
      <div class="card ml-1">
        <div class="card-body">
          <strong>For accessing thumbnail</strong><br />
          let thumbNail = each.avatar_pic.data.thumbnails?.filter( (e) => e.key
          === 'directus-medium-contain', ); let path=thumbnail[0].url
        </div>
      </div>
    </div>
    <div
      class="container-fluid mt-5 mr-5"
      style="overflow-y: scroll; height: 600px"
    >
      <table class="table table-striped table-md">
        <thead>
          <tr>
            <th scope="col">API URL</th>
            <th scope="col">DETAIL</th>
            <th scope="col">REQ STRUCTURE</th>
            <th scope="col">RES STRUCTURE</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>BASE_URL/users</td>
            <td>Access User Collection [GET]</td>
            <td>NA</td>
            <td>ALL DIRECTUS USER DATA</td>
          </tr>
          <tr>
            <td>BASE_URL/items/collection_name</td>
            <td>Access Custom Collections [GET]</td>
            <td>NA</td>
            <td>ALL Collection DATA</td>
          </tr>
          <tr>
            <td>BASE_URL/auth/authenticate</td>
            <td>Directus Auth [POST]</td>
            <td>{ "email":"user@espranza.in", "password" : "user123" }</td>
            <td>{ {tocken: xyz}, {data:xyz} }</td>
          </tr>
          <tr>
            <td>BASE_URL/items/bill?filter[variable]=value</td>
            <td>Filter by Variable [GET]</td>
            <td>NA</td>
            <td>NA</td>
          </tr>
          <tr>
            <td>BASE_URL/items/bill?filter[id]=2&single=1</td>
            <td>Access Single Element [GET]</td>
            <td>NA</td>
            <td>NA</td>
          </tr>
          <tr>
            <td>BASE_URL/items/profile?filter[id]=20&fields=*.*&single=1</td>
            <td>Split single Linked Data [GET]</td>
            <td>NA</td>
            <td>NA</td>
          </tr>
          <tr>
            <td>BASE_URL/files</td>
            <td>file upload [POST,GET]</td>
            <td>
              { "data":
              "https://images.unsplash.com/photo-1576854531280-9087cfd26e86" }
            </td>
            <td>For URL: response.data.data.data.full_url</td>
          </tr>

          <tr>
            <td>BASE_URL/users</td>
            <td>create user [POST]</td>
            <td>
              { "email": "demo@example.com", "contact_no" = "1239812392",
              "password": "1239812392", "role": 3, "status": "active" }
            </td>
            <td>{id}</td>
          </tr>
          <tr>
            <td></td>
            <td colspan="3">
              <span class="text-danger">
                In mobile app contact number is send as password, role and
                status must be added by default</span
              >
            </td>
          </tr>
          <tr>
            <td>BASE_URL/items/avatar?fields=avatar_pic.*</td>
            <td>Get avatar list [GET]</td>
            <td>For full_url: *responce.avatar_pic.data.full_url</td>
            <td>NA</td>
          </tr>

          <tr>
            <td>BASE_URL/users/${user_id}</td>
            <td>set avatar for user [PATCH,GET]</td>
            <td>{ "avatar": "5" }</td>
            <td>NA</td>
          </tr>
          <!-- If ant details required add as this -->
          <tr>
            <td></td>
            <td colspan="3">
              <span class="text-danger">
                Incase user upload any photo the id of that photo should pass as
                avatar id or if user select any avatar the perticular avatar id
                should pass in patch request</span
              >
            </td>
          </tr>

          <tr>
            <td>BASE_URL/items/user_profile</td>
            <td>set user profile [POST]</td>
            <td>{ "user":3 }</td>
            <td colspan="3">
              <span class="text-danger">
                pass the user id, you get on user signup</span
              >
            </td>
          </tr>

          <tr>
            <td>BASE_URL/items/user_profile?filter[user.id]={id}</td>
            <td>set user profile [patch]</td>
            <td>
              { "dob": "2021-03-13", "gender": 1, "marital_status": 1,
              "employment": 2, "no_of_children": 3, "salary": 12000,
              "dependent": 2, "partner_name": "mrnsnfksd", "partner_dob":
              "2021-03-05", "policy_status": true, "google_auth": "38742934792",
              "user": 2, "form_filled": false, "email_verified": false,
              "screen_lock_pin": null, "lang": null }
            </td>
            <td colspan="3">
              <span class="text-danger">
                setting up user details base on user id</span
              >
            </td>
          </tr>

          <!-- Till here -->
        </tbody>
      </table>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
